"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var assignmentText,actualAssignment,assignmentID,toDoAssignmentsContainer=document.querySelector(".to-do-assignments"),editAssignmentContainer=document.querySelector(".to-do-edit-assignment"),heroBG=document.querySelector(".to-do-edit-assignment-hero-bg"),editError=document.querySelector(".to-do-edit-assignment__error"),toDoInput=document.querySelector(".to-do-header__input"),editInput=document.querySelector(".to-do-edit-assignment__input"),toDoAddBtn=document.querySelector(".to-do-header__add-button"),acceptEditBtn=document.querySelector(".to-do-edit-assignment__button--accept"),cancelEditBtn=document.querySelector(".to-do-edit-assignment__button--cancel"),toDoAssignmentID=1,allInteractiveElements=[],addToDo=function(){!1!==validateToDo()&&(createToDoBody(),clearToDoInput())},validateToDo=function(){var t=document.querySelector(".to-do-header__error");return""===toDoInput.value?(t.classList.add("to-do-header__error--active"),t.classList.add("to-do-header__error--active-visibility"),!1):(t.classList.remove("to-do-header__error--active"),setTimeout(function(){t.classList.remove("to-do-header__error--active-visibility")},300),!0)},createToDoBody=function(){var t=document.querySelector(".to-do-assignment-template").content.cloneNode(!0),e=t.querySelector(".to-do-assignment__text"),n=t.querySelector(".to-do-assignment");t.querySelector(".to-do-assignment-buttons__button--remove");n.addEventListener("click",btnsFunctions),n.dataset.id=toDoAssignmentID.toString(),e.textContent=toDoInput.value,toDoAssignmentsContainer.append(t),localStorage.setItem("".concat(toDoAssignmentID),n.outerHTML),toDoAssignmentID++},clearToDoInput=function(){toDoInput.value=""},btnsFunctions=function(t){var e=(actualAssignment=t.currentTarget).querySelector(".to-do-assignment-buttons__button--done"),n=actualAssignment.querySelector(".fa-check"),o=actualAssignment.querySelector(".to-do-assignment-buttons__button--edit"),r=actualAssignment.querySelector(".fa-xmark"),a=actualAssignment.querySelector(".to-do-assignment-buttons__button--remove");switch(assignmentText=actualAssignment.querySelector(".to-do-assignment__text"),assignmentID=actualAssignment.dataset.id,t.target){case e:case n:completeToDo();break;case o:editToDo();break;case a:case r:deleteToDo();break;default:return}},completeToDo=function(){assignmentText.classList.toggle("to-do-assignment__text--done"),localStorage.setItem(assignmentID,actualAssignment.outerHTML)},editToDo=function(){editInput.value=assignmentText.textContent,showEditPanel()},deleteToDo=function(){actualAssignment.remove(),localStorage.removeItem(assignmentID)},acceptEdit=function(){""!==editInput.value?(assignmentText.textContent=editInput.value,localStorage.setItem(assignmentID,actualAssignment.outerHTML),editError.classList.remove("to-do-edit-assignment__error--active"),hideEditPanel()):editError.classList.add("to-do-edit-assignment__error--active")},cancelEdit=function(){editError.classList.remove("to-do-edit-assignment__error--active"),hideEditPanel()},showEditPanel=function(){allInteractiveElements=[];var t=document.querySelectorAll("button:not(.to-do-edit-assignment__button)");allInteractiveElements.push.apply(allInteractiveElements,_toConsumableArray(t)),allInteractiveElements.push(toDoInput),allInteractiveElements.forEach(function(t){return t.tabIndex=-1}),editAssignmentContainer.classList.add("to-do-edit-assignment--active"),heroBG.classList.add("to-do-edit-assignment-hero-bg--active")},hideEditPanel=function(){allInteractiveElements.forEach(function(t){return t.tabIndex=0}),editAssignmentContainer.classList.remove("to-do-edit-assignment--active"),heroBG.classList.remove("to-do-edit-assignment-hero-bg--active")},loadStoragedToDos=function(){var t,e=Object.assign({},localStorage);for(t in e)toDoAssignmentsContainer.innerHTML+=e[t],toDoAssignmentID=Number(t)+1;document.querySelectorAll(".to-do-assignment").forEach(function(t){return t.addEventListener("click",btnsFunctions)})};toDoAddBtn.addEventListener("click",addToDo),acceptEditBtn.addEventListener("click",acceptEdit),cancelEditBtn.addEventListener("click",cancelEdit),window.addEventListener("DOMContentLoaded",loadStoragedToDos);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy90cy9hcHAudHMiXSwibmFtZXMiOlsiYXNzaWdubWVudFRleHQiLCJhY3R1YWxBc3NpZ25tZW50IiwiYXNzaWdubWVudElEIiwidG9Eb0Fzc2lnbm1lbnRzQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWRpdEFzc2lnbm1lbnRDb250YWluZXIiLCJoZXJvQkciLCJlZGl0RXJyb3IiLCJ0b0RvSW5wdXQiLCJlZGl0SW5wdXQiLCJ0b0RvQWRkQnRuIiwiYWNjZXB0RWRpdEJ0biIsImNhbmNlbEVkaXRCdG4iLCJ0b0RvQXNzaWdubWVudElEIiwiYWxsSW50ZXJhY3RpdmVFbGVtZW50cyIsImFkZFRvRG8iLCJ2YWxpZGF0ZVRvRG8iLCJjcmVhdGVUb0RvQm9keSIsImNsZWFyVG9Eb0lucHV0IiwidG9Eb0Vycm9yIiwidmFsdWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJzZXRUaW1lb3V0IiwidG9Eb0Fzc2lnbm1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwidG9Eb0Fzc2lnbm1lbnRUZXh0IiwidG9Eb0Fzc2lnbm1lbnRDb250YWluZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiYnRuc0Z1bmN0aW9ucyIsImRhdGFzZXQiLCJpZCIsInRvU3RyaW5nIiwidGV4dENvbnRlbnQiLCJhcHBlbmQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiY29uY2F0Iiwib3V0ZXJIVE1MIiwiZSIsImFzc2lnbm1lbnREb25lQnV0dG9uIiwiY3VycmVudFRhcmdldCIsImFzc2lnbm1lbnREb25lQnV0dG9uSWNvbiIsImFzc2lnbm1lbnRFZGl0QnV0dG9uIiwiYXNzaWdubWVudERlbGV0ZUJ1dHRvbkljb24iLCJhc3NpZ25tZW50RGVsZXRlQnV0dG9uIiwidGFyZ2V0IiwiY29tcGxldGVUb0RvIiwiZWRpdFRvRG8iLCJkZWxldGVUb0RvIiwidG9nZ2xlIiwic2hvd0VkaXRQYW5lbCIsInJlbW92ZUl0ZW0iLCJhY2NlcHRFZGl0IiwiaGlkZUVkaXRQYW5lbCIsImNhbmNlbEVkaXQiLCJhbGxCdXR0b25zIiwicXVlcnlTZWxlY3RvckFsbCIsInB1c2giLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsImZvckVhY2giLCJlbCIsInRhYkluZGV4IiwibG9hZFN0b3JhZ2VkVG9Eb3MiLCJ0b0RvIiwic3RvcmFnZWRUb0RvcyIsIk9iamVjdCIsImFzc2lnbiIsImlubmVySFRNTCIsIk51bWJlciIsIndpbmRvdyJdLCJtYXBwaW5ncyI6InErQkFBQSxJQVlDQSxlQUNBQyxpQkFDQUMsYUFkS0MseUJBQTJCQyxTQUFTQyxjQUFjLG9CQUFvQixFQUN0RUMsd0JBQTBCRixTQUFTQyxjQUFjLHdCQUF3QixFQUN6RUUsT0FBU0gsU0FBU0MsY0FBYyxnQ0FBZ0MsRUFDaEVHLFVBQVlKLFNBQVNDLGNBQWMsK0JBQStCLEVBRWxFSSxVQUFZTCxTQUFTQyxjQUFjLHNCQUFzQixFQUN6REssVUFBWU4sU0FBU0MsY0FBYywrQkFBK0IsRUFDbEVNLFdBQWFQLFNBQVNDLGNBQWMsMkJBQTJCLEVBQy9ETyxjQUFnQlIsU0FBU0MsY0FBYyx3Q0FBd0MsRUFDL0VRLGNBQWdCVCxTQUFTQyxjQUFjLHdDQUF3QyxFQUVqRlMsaUJBQTJCLEVBSTlCQyx1QkFBbUUsR0FFOURDLFFBQVUsV0FDUSxDQUFBLElBQW5CQyxhQUFZLElBQ2hCQyxlQUFjLEVBQ2RDLGVBQWMsRUFDZixFQUVNRixhQUFlLFdBQ3BCLElBQU1HLEVBQVloQixTQUFTQyxjQUFjLHNCQUFzQixFQUUvRCxNQUF3QixLQUFwQkksVUFBVVksT0FDYkQsRUFBVUUsVUFBVUMsSUFBSSw2QkFBNkIsRUFDckRILEVBQVVFLFVBQVVDLElBQUksd0NBQXdDLEVBQ3pELENBQUEsSUFFUEgsRUFBVUUsVUFBVUUsT0FBTyw2QkFBNkIsRUFDeERDLFdBQVcsV0FDVkwsRUFBVUUsVUFBVUUsT0FBTyx3Q0FBd0MsQ0FDcEUsRUFBRyxHQUFHLEVBQ0MsQ0FBQSxFQUVULEVBRU1OLGVBQWlCLFdBQ3RCLElBRU1RLEVBRld0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LEVBQWNELEdBRXBEdEQsaUJBQW1CMkQsT0FBT0wsQ0FBSSxFQUFJLEVBR09oRSxTQUFTd0QsaUJBQWlCLG1CQUFtQixFQUNqRkksUUFBUSxTQUFBSSxHQUFJLE9BQUlBLEVBQUtyQyxpQkFBaUIsUUFBU0MsYUFBYSxDQUFDLENBQUEsQ0FDcEUsRUFFQXJCLFdBQVdvQixpQkFBaUIsUUFBU2YsT0FBTyxFQUM1Q0osY0FBY21CLGlCQUFpQixRQUFTeUIsVUFBVSxFQUNsRDNDLGNBQWNrQixpQkFBaUIsUUFBUzJCLFVBQVUsRUFDbERnQixPQUFPM0MsaUJBQWlCLG1CQUFvQm9DLGlCQUFpQiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdG9Eb0Fzc2lnbm1lbnRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvLWRvLWFzc2lnbm1lbnRzJykgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbmNvbnN0IGVkaXRBc3NpZ25tZW50Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvLWRvLWVkaXQtYXNzaWdubWVudCcpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5jb25zdCBoZXJvQkcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG8tZG8tZWRpdC1hc3NpZ25tZW50LWhlcm8tYmcnKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuY29uc3QgZWRpdEVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvLWRvLWVkaXQtYXNzaWdubWVudF9fZXJyb3InKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuXHJcbmNvbnN0IHRvRG9JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50by1kby1oZWFkZXJfX2lucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuY29uc3QgZWRpdElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvLWRvLWVkaXQtYXNzaWdubWVudF9faW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5jb25zdCB0b0RvQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvLWRvLWhlYWRlcl9fYWRkLWJ1dHRvbicpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5jb25zdCBhY2NlcHRFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvLWRvLWVkaXQtYXNzaWdubWVudF9fYnV0dG9uLS1hY2NlcHQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuY29uc3QgY2FuY2VsRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50by1kby1lZGl0LWFzc2lnbm1lbnRfX2J1dHRvbi0tY2FuY2VsJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5sZXQgdG9Eb0Fzc2lnbm1lbnRJRDogbnVtYmVyID0gMSxcclxuXHRhc3NpZ25tZW50VGV4dDogSFRNTFBhcmFncmFwaEVsZW1lbnQsXHJcblx0YWN0dWFsQXNzaWdubWVudDogSFRNTERpdkVsZW1lbnQsXHJcblx0YXNzaWdubWVudElEOiBzdHJpbmcsXHJcblx0YWxsSW50ZXJhY3RpdmVFbGVtZW50czogKEhUTUxCdXR0b25FbGVtZW50IHwgSFRNTElucHV0RWxlbWVudClbXSA9IFtdO1xyXG5cclxuY29uc3QgYWRkVG9EbyA9ICgpOiB2b2lkID0+IHtcclxuXHRpZiAodmFsaWRhdGVUb0RvKCkgPT09IGZhbHNlKSByZXR1cm47XHJcblx0Y3JlYXRlVG9Eb0JvZHkoKTtcclxuXHRjbGVhclRvRG9JbnB1dCgpO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVUb0RvID0gKCk6IGJvb2xlYW4gPT4ge1xyXG5cdGNvbnN0IHRvRG9FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50by1kby1oZWFkZXJfX2Vycm9yJykgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcblxyXG5cdGlmICh0b0RvSW5wdXQudmFsdWUgPT09ICcnKSB7XHJcblx0XHR0b0RvRXJyb3IuY2xhc3NMaXN0LmFkZCgndG8tZG8taGVhZGVyX19lcnJvci0tYWN0aXZlJyk7XHJcblx0XHR0b0RvRXJyb3IuY2xhc3NMaXN0LmFkZCgndG8tZG8taGVhZGVyX19lcnJvci0tYWN0aXZlLXZpc2liaWxpdHknKTtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dG9Eb0Vycm9yLmNsYXNzTGlzdC5yZW1vdmUoJ3RvLWRvLWhlYWRlcl9fZXJyb3ItLWFjdGl2ZScpO1xyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdHRvRG9FcnJvci5jbGFzc0xpc3QucmVtb3ZlKCd0by1kby1oZWFkZXJfX2Vycm9yLS1hY3RpdmUtdmlzaWJpbGl0eScpO1xyXG5cdFx0fSwgMzAwKTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGNyZWF0ZVRvRG9Cb2R5ID0gKCk6IHZvaWQgPT4ge1xyXG5cdGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvLWRvLWFzc2lnbm1lbnQtdGVtcGxhdGUnKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG5cclxuXHRjb25zdCB0b0RvQXNzaWdubWVudCA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50O1xyXG5cdGNvbnN0IHRvRG9Bc3NpZ25tZW50VGV4dCA9IHRvRG9Bc3NpZ25tZW50LnF1ZXJ5U2VsZWN0b3IoJy50by1kby1hc3NpZ25tZW50X190ZXh0JykgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcblx0Y29uc3QgdG9Eb0Fzc2lnbm1lbnRDb250YWluZXIgPSB0b0RvQXNzaWdubWVudC5xdWVyeVNlbGVjdG9yKCcudG8tZG8tYXNzaWdubWVudCcpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG5cdGNvbnN0IHRvRG9Bc3NpZ25tZW50RGVsZXRlQnRuID0gdG9Eb0Fzc2lnbm1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdCcudG8tZG8tYXNzaWdubWVudC1idXR0b25zX19idXR0b24tLXJlbW92ZScsXHJcblx0KSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuXHJcblx0dG9Eb0Fzc2lnbm1lbnRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBidG5zRnVuY3Rpb25zKTtcclxuXHR0b0RvQXNzaWdubWVudENvbnRhaW5lci5kYXRhc2V0LmlkID0gdG9Eb0Fzc2lnbm1lbnRJRC50b1N0cmluZygpO1xyXG5cclxuXHR0b0RvQXNzaWdubWVudFRleHQudGV4dENvbnRlbnQgPSB0b0RvSW5wdXQudmFsdWU7XHJcblxyXG5cdHRvRG9Bc3NpZ25tZW50c0NvbnRhaW5lci5hcHBlbmQodG9Eb0Fzc2lnbm1lbnQpO1xyXG5cclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHt0b0RvQXNzaWdubWVudElEfWAsIHRvRG9Bc3NpZ25tZW50Q29udGFpbmVyLm91dGVySFRNTCk7XHJcblx0dG9Eb0Fzc2lnbm1lbnRJRCsrO1xyXG59O1xyXG5cclxuY29uc3QgY2xlYXJUb0RvSW5wdXQgPSAoKTogdm9pZCA9PiB7XHJcblx0dG9Eb0lucHV0LnZhbHVlID0gJyc7XHJcbn07XHJcblxyXG5jb25zdCBidG5zRnVuY3Rpb25zID0gKGU6IEV2ZW50KSA9PiB7XHJcblx0YWN0dWFsQXNzaWdubWVudCA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHRjb25zdCBhc3NpZ25tZW50RG9uZUJ1dHRvbiA9IGFjdHVhbEFzc2lnbm1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdCcudG8tZG8tYXNzaWdubWVudC1idXR0b25zX19idXR0b24tLWRvbmUnLFxyXG5cdCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0Y29uc3QgYXNzaWdubWVudERvbmVCdXR0b25JY29uID0gYWN0dWFsQXNzaWdubWVudC5xdWVyeVNlbGVjdG9yKCcuZmEtY2hlY2snKSBhcyBIVE1MRWxlbWVudDtcclxuXHRjb25zdCBhc3NpZ25tZW50RWRpdEJ1dHRvbiA9IGFjdHVhbEFzc2lnbm1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdCcudG8tZG8tYXNzaWdubWVudC1idXR0b25zX19idXR0b24tLWVkaXQnLFxyXG5cdCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0Y29uc3QgYXNzaWdubWVudERlbGV0ZUJ1dHRvbkljb24gPSBhY3R1YWxBc3NpZ25tZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYS14bWFyaycpIGFzIEhUTUxFbGVtZW50O1xyXG5cdGNvbnN0IGFzc2lnbm1lbnREZWxldGVCdXR0b24gPSBhY3R1YWxBc3NpZ25tZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHQnLnRvLWRvLWFzc2lnbm1lbnQtYnV0dG9uc19fYnV0dG9uLS1yZW1vdmUnLFxyXG5cdCkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblx0YXNzaWdubWVudFRleHQgPSBhY3R1YWxBc3NpZ25tZW50LnF1ZXJ5U2VsZWN0b3IoJy50by1kby1hc3NpZ25tZW50X190ZXh0JykgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcblx0YXNzaWdubWVudElEID0gYWN0dWFsQXNzaWdubWVudC5kYXRhc2V0LmlkIGFzIHN0cmluZztcclxuXHJcblx0c3dpdGNoIChlLnRhcmdldCkge1xyXG5cdFx0Y2FzZSBhc3NpZ25tZW50RG9uZUJ1dHRvbjpcclxuXHRcdGNhc2UgYXNzaWdubWVudERvbmVCdXR0b25JY29uOlxyXG5cdFx0XHRjb21wbGV0ZVRvRG8oKTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSBhc3NpZ25tZW50RWRpdEJ1dHRvbjpcclxuXHRcdFx0ZWRpdFRvRG8oKTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0Y2FzZSBhc3NpZ25tZW50RGVsZXRlQnV0dG9uOlxyXG5cdFx0Y2FzZSBhc3NpZ25tZW50RGVsZXRlQnV0dG9uSWNvbjpcclxuXHRcdFx0ZGVsZXRlVG9EbygpO1xyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHRyZXR1cm47XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgY29tcGxldGVUb0RvID0gKCk6IHZvaWQgPT4ge1xyXG5cdGFzc2lnbm1lbnRUZXh0LmNsYXNzTGlzdC50b2dnbGUoJ3RvLWRvLWFzc2lnbm1lbnRfX3RleHQtLWRvbmUnKTtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhc3NpZ25tZW50SUQsIGFjdHVhbEFzc2lnbm1lbnQub3V0ZXJIVE1MKTtcclxufTtcclxuXHJcbmNvbnN0IGVkaXRUb0RvID0gKCk6IHZvaWQgPT4ge1xyXG5cdGVkaXRJbnB1dC52YWx1ZSA9IGFzc2lnbm1lbnRUZXh0LnRleHRDb250ZW50ITtcclxuXHRzaG93RWRpdFBhbmVsKCk7XHJcbn07XHJcblxyXG5jb25zdCBkZWxldGVUb0RvID0gKCk6IHZvaWQgPT4ge1xyXG5cdGFjdHVhbEFzc2lnbm1lbnQucmVtb3ZlKCk7XHJcblx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYXNzaWdubWVudElEKTtcclxufTtcclxuXHJcbmNvbnN0IGFjY2VwdEVkaXQgPSAoKTogdm9pZCA9PiB7XHJcblx0aWYgKGVkaXRJbnB1dC52YWx1ZSAhPT0gJycpIHtcclxuXHRcdGFzc2lnbm1lbnRUZXh0LnRleHRDb250ZW50ID0gZWRpdElucHV0LnZhbHVlO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oYXNzaWdubWVudElELCBhY3R1YWxBc3NpZ25tZW50Lm91dGVySFRNTCk7XHJcblx0XHRlZGl0RXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgndG8tZG8tZWRpdC1hc3NpZ25tZW50X19lcnJvci0tYWN0aXZlJyk7XHJcblx0XHRoaWRlRWRpdFBhbmVsKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGVkaXRFcnJvci5jbGFzc0xpc3QuYWRkKCd0by1kby1lZGl0LWFzc2lnbm1lbnRfX2Vycm9yLS1hY3RpdmUnKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBjYW5jZWxFZGl0ID0gKCk6IHZvaWQgPT4ge1xyXG5cdGVkaXRFcnJvci5jbGFzc0xpc3QucmVtb3ZlKCd0by1kby1lZGl0LWFzc2lnbm1lbnRfX2Vycm9yLS1hY3RpdmUnKTtcclxuXHRoaWRlRWRpdFBhbmVsKCk7XHJcbn07XHJcblxyXG5jb25zdCBzaG93RWRpdFBhbmVsID0gKCk6IHZvaWQgPT4ge1xyXG5cdGFsbEludGVyYWN0aXZlRWxlbWVudHMgPSBbXTtcclxuXHRjb25zdCBhbGxCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuXHRcdCdidXR0b246bm90KC50by1kby1lZGl0LWFzc2lnbm1lbnRfX2J1dHRvbiknLFxyXG5cdCkgYXMgTm9kZUxpc3RPZjxIVE1MQnV0dG9uRWxlbWVudD47XHJcblxyXG5cdGFsbEludGVyYWN0aXZlRWxlbWVudHMucHVzaCguLi5hbGxCdXR0b25zKTtcclxuXHRhbGxJbnRlcmFjdGl2ZUVsZW1lbnRzLnB1c2godG9Eb0lucHV0KTtcclxuXHJcblx0YWxsSW50ZXJhY3RpdmVFbGVtZW50cy5mb3JFYWNoKGVsID0+IChlbC50YWJJbmRleCA9IC0xKSk7XHJcblxyXG5cdGVkaXRBc3NpZ25tZW50Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RvLWRvLWVkaXQtYXNzaWdubWVudC0tYWN0aXZlJyk7XHJcblx0aGVyb0JHLmNsYXNzTGlzdC5hZGQoJ3RvLWRvLWVkaXQtYXNzaWdubWVudC1oZXJvLWJnLS1hY3RpdmUnKTtcclxufTtcclxuXHJcbmNvbnN0IGhpZGVFZGl0UGFuZWwgPSAoKTogdm9pZCA9PiB7XHJcblx0YWxsSW50ZXJhY3RpdmVFbGVtZW50cy5mb3JFYWNoKGVsID0+IChlbC50YWJJbmRleCA9IDApKTtcclxuXHJcblx0ZWRpdEFzc2lnbm1lbnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndG8tZG8tZWRpdC1hc3NpZ25tZW50LS1hY3RpdmUnKTtcclxuXHRoZXJvQkcuY2xhc3NMaXN0LnJlbW92ZSgndG8tZG8tZWRpdC1hc3NpZ25tZW50LWhlcm8tYmctLWFjdGl2ZScpO1xyXG59O1xyXG5jb25zdCBsb2FkU3RvcmFnZWRUb0RvcyA9ICgpID0+IHtcclxuXHRjb25zdCBzdG9yYWdlZFRvRG9zID0geyAuLi5sb2NhbFN0b3JhZ2UgfTtcclxuXHJcblx0Zm9yIChjb25zdCB0b0RvIGluIHN0b3JhZ2VkVG9Eb3MpIHtcclxuXHRcdHRvRG9Bc3NpZ25tZW50c0NvbnRhaW5lci5pbm5lckhUTUwgKz0gc3RvcmFnZWRUb0Rvc1t0b0RvXTtcclxuXHJcblx0XHR0b0RvQXNzaWdubWVudElEID0gTnVtYmVyKHRvRG8pICsgMTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHRvRG9zOiBOb2RlTGlzdE9mPEhUTUxEaXZFbGVtZW50PiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50by1kby1hc3NpZ25tZW50Jyk7XHJcblx0dG9Eb3MuZm9yRWFjaCh0b0RvID0+IHRvRG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBidG5zRnVuY3Rpb25zKSk7XHJcbn07XHJcblxyXG50b0RvQWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkVG9Ebyk7XHJcbmFjY2VwdEVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhY2NlcHRFZGl0KTtcclxuY2FuY2VsRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbmNlbEVkaXQpO1xyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGxvYWRTdG9yYWdlZFRvRG9zKTtcclxuIl19
